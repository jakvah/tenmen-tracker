<!DOCTYPE html>
<html>
  <meta charset="UTF-8">


<div class="container">
    <h3 style="padding-bottom:10px; padding-top:10px;">Match {{match.get_match_id()}} // {{match.get_date()}} </h3>
        <div class="row gutters-sm">
            <div class="col-md-4">
                <img src="{{match.get_map_img_url()}}" class="img-fluid">
                <div class="card mt-3">
                    <h5 style="margin:10px;"class="card-title"><i class="fa fa-crown fa-md" style="padding-right:3px;"></i>Kings of the match</h5>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                        <h6 class="mb-0"><i class="fa fa-chart-line fa-lg" style="padding-right:3px;"></i>HLTV Rating</h6>
                        <span class="text-secondary">{{match.get_highest_rated().get_nick()}} ({{match.get_highest_rated().get_hltv_rating()}})</span>
                      </li>                      
                      <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                        <h6 class="mb-0"><i class="fa fa-virus-slash fa-lg" style="padding-right:3px;"></i>Flash assists</h6>
                        <span class="text-secondary">{{match.get_highest_flash().get_nick()}} ({{match.get_highest_flash().get_flash_assists()}})</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                        <h6 class="mb-0"><i class="fa fa-radiation-alt fa-lg" style="padding-right:3px;"></i>Damage</h6>
                        <span class="text-secondary">{{match.get_highest_adr().get_nick()}} ({{match.get_highest_adr().get_adr()}})</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                        <h6 class="mb-0"><i class="fa fa-user-secret fa-lg" style="padding-right:3px;"></i>Clutch kills</h6>
                        <span class="text-secondary">{{match.get_highest_ck().get_nick()}} ({{match.get_highest_ck().get_clutch_kills()}})</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                        <h6 class="mb-0"><i class="fa fa-head-side-virus fa-lg" style="padding-right:3px;"></i>Headshot %</h6>
                        <span class="text-secondary">{{match.get_highest_hs().get_nick()}} ({{match.get_highest_hs().get_hs_percentage_100()}}%)</span>
                      </li>
                      
                      
                    </ul>
                  </div>
            </div>
            <div class="col-md-8">
                <div class="row">
                    <div class="col-md-12">
                    <h5 style="text-align:center;">{{match.get_map()}}</h5>     
                    </div>                
                </div>
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-6">
                        <h6 style="text-align:center;">{{match.team_1.get_score()}}</h6>
                        <table class="table">
                            <thead>
                              <tr>
                                <th scope="col">IGN</th>
                                <th scope="col">K</th>
                                <th scope="col">A</th>
                                <th scope="col">D</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <th scope="row"><img src="{{match.team_1.player_1.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_1.player_1.get_pop_id()}}">{{match.team_1.player_1.get_nick()}}</a></th>
                                <td>{{match.team_1.player_1.get_kills()}}</td>
                                <td>{{match.team_1.player_1.get_assists()}}</td>
                                <td>{{match.team_1.player_1.get_deaths()}}</td>
                              </tr>
                              <tr>
                                <th scope="row"><img src="{{match.team_1.player_2.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_1.player_2.get_pop_id()}}">{{match.team_1.player_2.get_nick()}}</a></th>
                                <td>{{match.team_1.player_2.get_kills()}}</td>
                                <td>{{match.team_1.player_2.get_assists()}}</td>
                                <td>{{match.team_1.player_2.get_deaths()}}</td>
                              </tr>
                              <tr>
                                <th scope="row"><img src="{{match.team_1.player_3.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_1.player_3.get_pop_id()}}">{{match.team_1.player_3.get_nick()}}</a></th>
                                <td>{{match.team_1.player_3.get_kills()}}</td>
                                <td>{{match.team_1.player_3.get_assists()}}</td>
                                <td>{{match.team_1.player_3.get_deaths()}}</td>
                              </tr>
                              <tr>
                                <th scope="row"><img src="{{match.team_1.player_4.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_1.player_4.get_pop_id()}}">{{match.team_1.player_4.get_nick()}}</a></th>
                                <td>{{match.team_1.player_4.get_kills()}}</td>
                                <td>{{match.team_1.player_4.get_assists()}}</td>
                                <td>{{match.team_1.player_4.get_deaths()}}</td>
                              </tr>
                              <tr>
                                <th scope="row"><img src="{{match.team_1.player_5.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_1.player_5.get_pop_id()}}">{{match.team_1.player_5.get_nick()}}</a></th>
                                <td>{{match.team_1.player_5.get_kills()}}</td>
                                <td>{{match.team_1.player_5.get_assists()}}</td>
                                <td>{{match.team_1.player_5.get_deaths()}}</td>
                              </tr>
                            </tbody>
                          </table>
                    </div>     
                    <div class="col-md-6 col-sm-6 col-xs-6">
                        <h6 style="text-align:center;">{{match.team_2.get_score()}}</h6>
                        <table class="table">
                          <thead>
                            <tr>
                              <th scope="col">IGN</th>
                              <th scope="col">K</th>
                              <th scope="col">A</th>
                              <th scope="col">D</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <th scope="row"><img src="{{match.team_2.player_1.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_2.player_1.get_pop_id()}}">{{match.team_2.player_1.get_nick()}}</a></th>
                              <td>{{match.team_2.player_1.get_kills()}}</td>
                              <td>{{match.team_2.player_1.get_assists()}}</td>
                              <td>{{match.team_2.player_1.get_deaths()}}</td>
                            </tr>
                            <tr>
                              <th scope="row"><img src="{{match.team_2.player_2.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_2.player_2.get_pop_id()}}">{{match.team_2.player_2.get_nick()}}</a></th>
                              <td>{{match.team_2.player_2.get_kills()}}</td>
                              <td>{{match.team_2.player_2.get_assists()}}</td>
                              <td>{{match.team_2.player_2.get_deaths()}}</td>
                            </tr>
                            <tr>
                              <th scope="row"><img src="{{match.team_2.player_3.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_2.player_3.get_pop_id()}}">{{match.team_2.player_3.get_nick()}}</a></th>
                              <td>{{match.team_2.player_3.get_kills()}}</td>
                              <td>{{match.team_2.player_3.get_assists()}}</td>
                              <td>{{match.team_2.player_3.get_deaths()}}</td>
                            </tr>
                            <tr>
                              <th scope="row"><img src="{{match.team_2.player_4.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_2.player_4.get_pop_id()}}">{{match.team_2.player_4.get_nick()}}</a></th>
                              <td>{{match.team_2.player_4.get_kills()}}</td>
                              <td>{{match.team_2.player_4.get_assists()}}</td>
                              <td>{{match.team_2.player_4.get_deaths()}}</td>
                            </tr>
                            <tr>
                              <th scope="row"><img src="{{match.team_2.player_5.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a style="color:inherit;" href="/tenman/user/{{match.team_2.player_5.get_pop_id()}}">{{match.team_2.player_5.get_nick()}}</a></th>
                              <td>{{match.team_2.player_5.get_kills()}}</td>
                              <td>{{match.team_2.player_5.get_assists()}}</td>
                              <td>{{match.team_2.player_5.get_deaths()}}</td>
                            </tr>
                          </tbody>
                        </table>
                    </div>             
                </div>
                <div class="row">
                  <div class="col-md-12">
                  <h6 style="text-align:center;">Team balance<span id="clickableIcon"><i class="fa fa-info-circle fa-sm" style="padding-left:3px;" data-toggle="modal" data-target="#myModal"></i></span></h6>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12">
                  <div class="progress">
                    <div class="progress-bar bg-success" role="progressbar" style="width: {{team1_percentage}}%" aria-valuenow="{{team1_percentage}}" aria-valuemin="0" aria-valuemax="100">{{team1_avg_rating}}</div>
                    <div class="progress-bar bg-danger" role="progressbar" style="width: {{team2_percentage}}%" aria-valuenow="{{team2_percentage}}" aria-valuemin="0" aria-valuemax="100">{{team2_avg_rating}}</div>
                  </div>
                  </div>
                </div>
                </div>
            </div>
        </div>
</div>
</div>

<div class="container" style="margin-top:10px;">
  <div id="accordion">
      
      <div class="card">
        <div class="card-header" id="headingTwo">
          <h5 class="mb-0">
            <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              View full match stats <i class="fa fa-plus-square" style="padding-right:3px;"></i>
            </button>
          </h5>
        </div>
        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
          <div class="card-body">
                <!-- Row 1 -->
                <div class="row">
                  <div class="col-md-1">
                    <h5 class="center_text"style="text-align:center;">{{match.team_1.get_score()}}</h5>
                  </div>
                  <div class="col-md-11">              
                    <table class="table">
                        <thead class="thead-dark">
                          <tr>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="In Game Name">IGN</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="HLTV Rating">HLTV</div></th>
                            <th><div data-toggle="tooltip" data-placement="top" title="Kills/Death Ratio">K/D</div></th>
                            <th><div data-toggle="tooltip" data-placement="top" title="Kills">K</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Assists">A</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Deaths">D</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Flash Assists">FA</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Clutch kills">CK</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Bombs planted">BP</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Bombs defused">BD</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Average Damage pr Round">ADR</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Headshot percentage">HS%</div></th>
                                                                           
                          </tr>
                        </thead>
                        <tbody>
                         {% for player in match.get_team_1() %}
                          <tr>
                            <td><img src="{{ player.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a href="/tenman/user/{{ player.get_pop_id() }}">{{ player.get_nick() }}</a></td>
                            <td>{{ player.get_hltv_rating() }}</td>
                            <td>{{ player.get_kd_ratio() }}</td>
                            <td>{{ player.get_kills() }}</td>
                            <td>{{ player.get_assists() }}</td>
                            <td>{{ player.get_deaths() }}</td>
                            <td>{{ player.get_flash_assists() }}</td>
                            <td>{{ player.get_clutch_kills() }}</td>
                            <td>{{ player.get_bombs_planted() }}</td>
                            <td>{{ player.get_bombs_defused() }}</td>
                            <td>{{ player.get_adr() }}</td>
                            <td>{{ player.get_hs_percentage_100()}}%</td>

                          </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                    </div>
                </div>
                <!-- Row 2 -->
                <div class="row">
                  <div class="col-md-1">
                    <h5 class="center_text"style="text-align:center;">{{match.team_2.get_score()}}</h5>
                  </div>
                  <div class="col-md-11">              
                    <table class="table">
                        <thead class="thead-dark">
                          <tr>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="In Game Name">IGN</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="HLTV Rating">HLTV</div></th>
                            <th><div data-toggle="tooltip" data-placement="top" title="Kills/Death Ratio">K/D</div></th>
                            <th><div data-toggle="tooltip" data-placement="top" title="Kills">K</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Assists">A</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Deaths">D</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Flash Assists">FA</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Clutch kills">CK</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Bombs planted">BP</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Bombs defused">BD</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Average Damage pr Round">ADR</div></th>
                            <th scope="col"><div data-toggle="tooltip" data-placement="top" title="Headshot percentage">HS%</div></th>
                                                
                          </tr>
                        </thead>
                        <tbody>
                         {% for player in match.get_team_2() %}
                          <tr>
                            <td><img src="{{ player.get_img_url() }}" alt="" height="20" width="20" style="margin-right: 3px;;"/><a href="/tenman/user/{{ player.get_pop_id() }}">{{ player.get_nick() }}</a></td>
                            <td>{{ player.get_hltv_rating() }}</td>
                            <td>{{ player.get_kd_ratio() }}</td>
                            <td>{{ player.get_kills() }}</td>
                            <td>{{ player.get_assists() }}</td>
                            <td>{{ player.get_deaths() }}</td>
                            <td>{{ player.get_flash_assists() }}</td>
                            <td>{{ player.get_clutch_kills() }}</td>
                            <td>{{ player.get_bombs_planted() }}</td>
                            <td>{{ player.get_bombs_defused() }}</td>
                            <td>{{ player.get_adr() }}</td>
                            <td>{{ player.get_hs_percentage_100()}}%</td>

                          </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                    </div>
                </div>
          </div>
        </div>
      </div>
     
    </div>
</div>

<style>
  #clickableIcon {
        cursor: pointer

    }
</style>
<script>
  $(document).ready(function(){
      $('[data-toggle="tooltip"]').tooltip();   
  });
</script>

<!-- Info about team balance modal-->
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">How is team balance calculated?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>The team balance indicator is based on the average HLTV Rating for the players in the two teams. To easily 
          account for new players participating in the match, the metric includes the rating for the current match. Consequently what the metric is indicating
          is the strenght of the teams <i>>after</i> the current match has been finished. This is a not optimal, since when attempting to model team balance, it is 
          the team strength going <i>into</i> the game which is the metric of interest. </p>
          <p>
            To further add to the weakness of the metric, when viewing an old match (a match beeing played previous to other matches beeing added to the database),
            the team balance indicator will take the data from the newly added matches into account when calculating the average ratings for eachs team. In other words;
            you should take this statistic with a pinch of salt.
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- Info about team balance modal-->


</html>